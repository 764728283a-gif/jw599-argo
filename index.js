const _0x345bdb=_0x3d01;(function(_0x1f529e,_0x2937a2){const _0x3f025b=_0x3d01,_0x984fe4=_0x1f529e();while(!![]){try{const _0x4e083a=parseInt(_0x3f025b(0x17b))/0x1*(parseInt(_0x3f025b(0xed))/0x2)+parseInt(_0x3f025b(0xee))/0x3+parseInt(_0x3f025b(0x173))/0x4*(parseInt(_0x3f025b(0x16b))/0x5)+parseInt(_0x3f025b(0xef))/0x6+parseInt(_0x3f025b(0x187))/0x7*(-parseInt(_0x3f025b(0x174))/0x8)+-parseInt(_0x3f025b(0x136))/0x9+-parseInt(_0x3f025b(0xfe))/0xa;if(_0x4e083a===_0x2937a2)break;else _0x984fe4['push'](_0x984fe4['shift']());}catch(_0x474f5d){_0x984fe4['push'](_0x984fe4['shift']());}}}(_0x2176,0x8ba0f));const express=require(_0x345bdb(0x179)),app=express(),axios=require(_0x345bdb(0x17a)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x345bdb(0x13f)),exec=promisify(require(_0x345bdb(0x11c))[_0x345bdb(0xf9)]),{execSync}=require(_0x345bdb(0x11c)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x345bdb(0xd7)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x345bdb(0xfc)]||_0x345bdb(0x184),SUB_PATH=process['env'][_0x345bdb(0xf8)]||'sub',PORT=process[_0x345bdb(0x124)][_0x345bdb(0x16c)]||process[_0x345bdb(0x124)][_0x345bdb(0x130)]||0xbb8,UUID=process['env'][_0x345bdb(0x106)]||_0x345bdb(0x17d),NEZHA_SERVER=process['env'][_0x345bdb(0xd5)]||'',NEZHA_PORT=process[_0x345bdb(0x124)][_0x345bdb(0x152)]||'',NEZHA_KEY=process['env'][_0x345bdb(0xe3)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'jw599.jw566.dpdns.org',ARGO_AUTH=process[_0x345bdb(0x124)][_0x345bdb(0xd1)]||_0x345bdb(0x131),ARGO_PORT=process['env'][_0x345bdb(0x150)]||0x1f41,CFIP=process[_0x345bdb(0x124)][_0x345bdb(0x147)]||_0x345bdb(0x14c),CFPORT=process[_0x345bdb(0x124)][_0x345bdb(0x158)]||0x1bb,NAME=process[_0x345bdb(0x124)][_0x345bdb(0x146)]||_0x345bdb(0x11a);!fs[_0x345bdb(0x170)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x345bdb(0x10d)](FILE_PATH+_0x345bdb(0x17f))):console[_0x345bdb(0x10d)](FILE_PATH+'\x20already\x20exists');function _0x2176(){const _0x157b52=['config.yaml','&path=%2Ftrojan-argo%3Fed%3D2560#','FILE_PATH','statSync','4612060uXRpiw','8443','error','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','toString','2053','https://amd64.ssss.nyc.mn/web','https+local://8.8.8.8/dns-query','UUID','/sub.txt\x20saved\x20successfully','base64','basename','sub.txt','https://oooo.serv00.net/add-url','freedom','log','split','createWriteStream','none','utf-8','forEach','Add\x20automatic\x20access\x20task\x20faild:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','http','blackhole','Skipping\x20adding\x20automatic\x20access\x20task','join','substring','jwwjj','/api/add-subscriptions','child_process','config.json','data','then','/api/add-nodes','/vmess-argo','&path=%2Fvless-argo%3Fed%3D2560#','Empowerment\x20failed\x20for\x20','env','false','unshift','\x20-c\x20','tunnel.json','length','https://arm64.ssss.nyc.mn/web','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20>/dev/null\x202>&1','http\x20server\x20is\x20running\x20on\x20port:','taskkill\x20/f\x20/im\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','PORT','eyJhIjoiODdlZGNkOGNiMDZmMjkzMzYwY2EyN2I1NTZiNTlkNmMiLCJ0IjoiZDM3NmY3YTEtNWMxMi00ODI0LTg3NGQtMjZlOGU2ZmRhMTczIiwicyI6Ik5UWmlaVFJpTkRFdFpUTTRPQzAwTmprekxUZzROMkl0WTJFeE4yRmtOMk15WXpFMiJ9','readdirSync','writeFileSync','&fp=firefox&type=ws&host=','/config.json\x20>/dev/null\x202>&1\x20&','3775302lCguIo','finish','Unhandled\x20error\x20in\x20startserver:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','floor','arm64','direct','\x0aclient_secret:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','util','/trojan-argo','\x0avless://','/vless-argo','aarch64','vless','clear','NAME','CFIP','443','status','message','tunnel.yml','saas.sin.fan','isFile','get','web\x20running\x20error:\x20','ARGO_PORT','https://amd64.ssss.nyc.mn/bot','NEZHA_PORT','App\x20is\x20running','catch','Error\x20in\x20startserver:','trim','?security=tls&sni=','CFPORT','/api/delete-nodes','amd','tls','Error\x20downloading\x20files:','trojan','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','block','includes','quic','match','stringify','Empowerment\x20success\x20for\x20','chmod','push','platform','\x0a\x20\x20\x0atrojan://','tcp','from','5UBruWN','SERVER_PORT','xtls-rprx-vision','text/plain;\x20charset=utf-8','response','existsSync','mkdirSync','listen','3169996XedKwp','4744hQqkZU','npm\x20running\x20error:\x20','?encryption=none&security=tls&sni=','has','application/json','express','axios','104279dtCGba','https://arm64.ssss.nyc.mn/bot','7f8a825c-1331-41f5-8a6a-0b7852f2112d','nohup\x20','\x20is\x20created','arch','all','readFileSync','https://amd64.ssss.nyc.mn/v1','./tmp','vmess','2096','11368YXnYaX','https://arm64.ssss.nyc.mn/v1','\x20is\x20running','unlinkSync','firefox','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','pkill\x20-f\x20\x22[','stream','automatic\x20access\x20task\x20added\x20successfully','\x20-p\x20','ARGO_AUTH','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x22\x20>\x20/dev/null\x202>&1','win32','NEZHA_SERVER','post','PROJECT_URL','arm','fileUrl','/dev/null','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','abcdefghijklmnopqrstuvwxyz','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','127.0.0.1','\x20>/dev/null\x202>&1\x20&','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0a\x20\x20\x0avmess://','NEZHA_KEY','unlink','Error\x20executing\x20command:\x20','Download\x20','Content-Type','del\x20/f\x20/q\x20','2087','ARGO_DOMAIN:','filter','php\x20running\x20error:\x20','12fyDFPk','280044uFdKcx','5424684mqtkTK','2083','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20credentials-file:\x20','TunnelSecret','\x20-c\x20\x22','test','boot.log','\x0a\x20\x20\x20\x20','SUB_PATH','exec'];_0x2176=function(){return _0x157b52;};return _0x2176();}function generateRandomName(){const _0x4055d=_0x345bdb,_0xe08682=_0x4055d(0xdc);let _0x1bdf60='';for(let _0x2ac916=0x0;_0x2ac916<0x6;_0x2ac916++){_0x1bdf60+=_0xe08682['charAt'](Math[_0x4055d(0x13a)](Math['random']()*_0xe08682['length']));}return _0x1bdf60;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x345bdb(0x118)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x345bdb(0x118)](FILE_PATH,_0x345bdb(0x10a)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x345bdb(0xf6)),configPath=path[_0x345bdb(0x118)](FILE_PATH,_0x345bdb(0x11d));function deleteNodes(){const _0x1431ba=_0x345bdb;try{if(!UPLOAD_URL)return;if(!fs[_0x1431ba(0x170)](subPath))return;let _0x2daf5d;try{_0x2daf5d=fs[_0x1431ba(0x182)](subPath,_0x1431ba(0x111));}catch{return null;}const _0x11303c=Buffer[_0x1431ba(0x16a)](_0x2daf5d,_0x1431ba(0x108))['toString'](_0x1431ba(0x111)),_0x2e01b2=_0x11303c[_0x1431ba(0x10e)]('\x0a')[_0x1431ba(0xeb)](_0x1ad3c5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1431ba(0xf5)](_0x1ad3c5));if(_0x2e01b2['length']===0x0)return;return axios[_0x1431ba(0xd6)](UPLOAD_URL+_0x1431ba(0x159),JSON['stringify']({'nodes':_0x2e01b2}),{'headers':{'Content-Type':_0x1431ba(0x178)}})[_0x1431ba(0x154)](_0x232512=>{return null;}),null;}catch(_0x458c75){return null;}}function cleanupOldFiles(){const _0x26c9c3=_0x345bdb;try{const _0x4a2c70=fs[_0x26c9c3(0x132)](FILE_PATH);_0x4a2c70['forEach'](_0x1ae803=>{const _0x39b45c=_0x26c9c3,_0x38a91a=path[_0x39b45c(0x118)](FILE_PATH,_0x1ae803);try{const _0x3d816a=fs[_0x39b45c(0xfd)](_0x38a91a);_0x3d816a[_0x39b45c(0x14d)]()&&fs[_0x39b45c(0xc9)](_0x38a91a);}catch(_0x820039){}});}catch(_0x423127){}}app[_0x345bdb(0x14e)]('/',function(_0x31f3f0,_0x53841e){_0x53841e['send']('Hello\x20world!');});async function generateConfig(){const _0x26f4f2=_0x345bdb,_0x543495={'log':{'access':_0x26f4f2(0xda),'error':_0x26f4f2(0xda),'loglevel':_0x26f4f2(0x110)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x26f4f2(0x16d)}],'decryption':_0x26f4f2(0x110),'fallbacks':[{'dest':0xbb9},{'path':_0x26f4f2(0x142),'dest':0xbba},{'path':_0x26f4f2(0x121),'dest':0xbbb},{'path':_0x26f4f2(0x140),'dest':0xbbc}]},'streamSettings':{'network':_0x26f4f2(0x169)}},{'port':0xbb9,'listen':_0x26f4f2(0xde),'protocol':_0x26f4f2(0x144),'settings':{'clients':[{'id':UUID}],'decryption':_0x26f4f2(0x110)},'streamSettings':{'network':_0x26f4f2(0x169),'security':_0x26f4f2(0x110)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x26f4f2(0x144),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x26f4f2(0x110)},'streamSettings':{'network':'ws','security':_0x26f4f2(0x110),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x26f4f2(0x15b),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x26f4f2(0xde),'protocol':_0x26f4f2(0x185),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x26f4f2(0x115),_0x26f4f2(0x15b),_0x26f4f2(0x161)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x26f4f2(0xde),'protocol':_0x26f4f2(0x15d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x26f4f2(0x110),'wsSettings':{'path':_0x26f4f2(0x140)}},'sniffing':{'enabled':!![],'destOverride':[_0x26f4f2(0x115),_0x26f4f2(0x15b),_0x26f4f2(0x161)],'metadataOnly':![]}}],'dns':{'servers':[_0x26f4f2(0x105)]},'outbounds':[{'protocol':_0x26f4f2(0x10c),'tag':_0x26f4f2(0x13c)},{'protocol':_0x26f4f2(0x116),'tag':_0x26f4f2(0x15f)}]};fs[_0x26f4f2(0x133)](path[_0x26f4f2(0x118)](FILE_PATH,_0x26f4f2(0x11d)),JSON['stringify'](_0x543495,null,0x2));}function getSystemArchitecture(){const _0x52a3e7=_0x345bdb,_0x3e3a8e=os[_0x52a3e7(0x180)]();return _0x3e3a8e===_0x52a3e7(0xd8)||_0x3e3a8e===_0x52a3e7(0x13b)||_0x3e3a8e===_0x52a3e7(0x143)?'arm':_0x52a3e7(0x15a);}function downloadFile(_0x4bac90,_0x694a8e,_0x6e16ee){const _0x6f9faa=_0x345bdb,_0xb84737=_0x4bac90;!fs[_0x6f9faa(0x170)](FILE_PATH)&&fs[_0x6f9faa(0x171)](FILE_PATH,{'recursive':!![]});const _0x3feccc=fs[_0x6f9faa(0x10f)](_0xb84737);axios({'method':'get','url':_0x694a8e,'responseType':_0x6f9faa(0xce)})[_0x6f9faa(0x11f)](_0x1e8e79=>{const _0x328b8f=_0x6f9faa;_0x1e8e79[_0x328b8f(0x11e)]['pipe'](_0x3feccc),_0x3feccc['on'](_0x328b8f(0x137),()=>{const _0x30b4f8=_0x328b8f;_0x3feccc['close'](),console[_0x30b4f8(0x10d)](_0x30b4f8(0xe6)+path[_0x30b4f8(0x109)](_0xb84737)+'\x20successfully'),_0x6e16ee(null,_0xb84737);}),_0x3feccc['on'](_0x328b8f(0x100),_0x54d835=>{const _0x48af88=_0x328b8f;fs[_0x48af88(0xe4)](_0xb84737,()=>{});const _0x5278f2='Download\x20'+path['basename'](_0xb84737)+'\x20failed:\x20'+_0x54d835['message'];console[_0x48af88(0x100)](_0x5278f2),_0x6e16ee(_0x5278f2);});})['catch'](_0x24b3e2=>{const _0x442118=_0x6f9faa,_0x31725f='Download\x20'+path['basename'](_0xb84737)+'\x20failed:\x20'+_0x24b3e2[_0x442118(0x14a)];console[_0x442118(0x100)](_0x31725f),_0x6e16ee(_0x31725f);});}async function downloadFilesAndRun(){const _0x1bf266=_0x345bdb,_0x324390=getSystemArchitecture(),_0x265a84=getFilesForArchitecture(_0x324390);if(_0x265a84[_0x1bf266(0x129)]===0x0){console[_0x1bf266(0x10d)](_0x1bf266(0xcb));return;}const _0x446238=_0x265a84['map'](_0x96acd7=>{return new Promise((_0x1e90e5,_0x30f5bc)=>{const _0x5e29f8=_0x3d01;downloadFile(_0x96acd7['fileName'],_0x96acd7[_0x5e29f8(0xd9)],(_0x2f8a01,_0x409ad0)=>{_0x2f8a01?_0x30f5bc(_0x2f8a01):_0x1e90e5(_0x409ad0);});});});try{await Promise[_0x1bf266(0x181)](_0x446238);}catch(_0x16d70b){console[_0x1bf266(0x100)](_0x1bf266(0x15c),_0x16d70b);return;}function _0x1d952(_0x2d2ee1){const _0xa20fd1=_0x1bf266,_0x3f6604=0x1fd;_0x2d2ee1[_0xa20fd1(0x112)](_0x491bf2=>{const _0x549952=_0xa20fd1;fs[_0x549952(0x170)](_0x491bf2)&&fs[_0x549952(0x165)](_0x491bf2,_0x3f6604,_0x348907=>{const _0x32de3a=_0x549952;_0x348907?console[_0x32de3a(0x100)](_0x32de3a(0x123)+_0x491bf2+':\x20'+_0x348907):console[_0x32de3a(0x10d)](_0x32de3a(0x164)+_0x491bf2+':\x20'+_0x3f6604[_0x32de3a(0x102)](0x8));});});}const _0x20f9d7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1d952(_0x20f9d7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4ae2a0=NEZHA_SERVER[_0x1bf266(0x160)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x3472b3=new Set([_0x1bf266(0x148),_0x1bf266(0xff),_0x1bf266(0x186),_0x1bf266(0xe9),_0x1bf266(0xf0),_0x1bf266(0x103)]),_0x3763da=_0x3472b3[_0x1bf266(0x177)](_0x4ae2a0)?'true':_0x1bf266(0x125),_0x2ed72e=_0x1bf266(0x13d)+NEZHA_KEY+_0x1bf266(0x12f)+NEZHA_SERVER+_0x1bf266(0x12b)+_0x3763da+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1bf266(0x133)](path[_0x1bf266(0x118)](FILE_PATH,_0x1bf266(0xfa)),_0x2ed72e);const _0x11b81e=_0x1bf266(0x17e)+phpPath+_0x1bf266(0xf4)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x11b81e),console[_0x1bf266(0x10d)](phpName+_0x1bf266(0x189)),await new Promise(_0x30c7ab=>setTimeout(_0x30c7ab,0x3e8));}catch(_0x417317){console[_0x1bf266(0x100)](_0x1bf266(0xec)+_0x417317);}}else{let _0x471aaf='';const _0x5446f7=[_0x1bf266(0x148),_0x1bf266(0xff),'2096',_0x1bf266(0xe9),_0x1bf266(0xf0),_0x1bf266(0x103)];_0x5446f7[_0x1bf266(0x160)](NEZHA_PORT)&&(_0x471aaf='--tls');const _0x46fcb4='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x1bf266(0xd0)+NEZHA_KEY+'\x20'+_0x471aaf+_0x1bf266(0xdd);try{await exec(_0x46fcb4),console[_0x1bf266(0x10d)](npmName+_0x1bf266(0x189)),await new Promise(_0x1acda4=>setTimeout(_0x1acda4,0x3e8));}catch(_0x2fb6b6){console[_0x1bf266(0x100)](_0x1bf266(0x175)+_0x2fb6b6);}}}else console[_0x1bf266(0x10d)](_0x1bf266(0xe0));const _0x7ac3cc='nohup\x20'+webPath+_0x1bf266(0x127)+FILE_PATH+_0x1bf266(0x135);try{await exec(_0x7ac3cc),console[_0x1bf266(0x10d)](webName+_0x1bf266(0x189)),await new Promise(_0x45d10d=>setTimeout(_0x45d10d,0x3e8));}catch(_0x1e7470){console['error'](_0x1bf266(0x14f)+_0x1e7470);}if(fs[_0x1bf266(0x170)](botPath)){let _0x2de9a1;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x2de9a1='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2de9a1=_0x1bf266(0xdb)+FILE_PATH+'/tunnel.yml\x20run':_0x2de9a1=_0x1bf266(0xd2)+FILE_PATH+_0x1bf266(0x15e)+ARGO_PORT;try{await exec(_0x1bf266(0x17e)+botPath+'\x20'+_0x2de9a1+_0x1bf266(0xdf)),console['log'](botName+_0x1bf266(0x189)),await new Promise(_0x36e779=>setTimeout(_0x36e779,0x7d0));}catch(_0x26e15e){console[_0x1bf266(0x100)](_0x1bf266(0xe5)+_0x26e15e);}}await new Promise(_0x1da59b=>setTimeout(_0x1da59b,0x1388));}function getFilesForArchitecture(_0x49b9b9){const _0x4af44c=_0x345bdb;let _0x326838;_0x49b9b9==='arm'?_0x326838=[{'fileName':webPath,'fileUrl':_0x4af44c(0x12a)},{'fileName':botPath,'fileUrl':_0x4af44c(0x17c)}]:_0x326838=[{'fileName':webPath,'fileUrl':_0x4af44c(0x104)},{'fileName':botPath,'fileUrl':_0x4af44c(0x151)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xd7e4d1=_0x49b9b9===_0x4af44c(0xd8)?_0x4af44c(0xf1):'https://amd64.ssss.nyc.mn/agent';_0x326838[_0x4af44c(0x126)]({'fileName':npmPath,'fileUrl':_0xd7e4d1});}else{const _0x4b3185=_0x49b9b9===_0x4af44c(0xd8)?_0x4af44c(0x188):_0x4af44c(0x183);_0x326838[_0x4af44c(0x126)]({'fileName':phpPath,'fileUrl':_0x4b3185});}}return _0x326838;}function argoType(){const _0x136f28=_0x345bdb;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x136f28(0x139));return;}if(ARGO_AUTH[_0x136f28(0x160)](_0x136f28(0xf3))){fs[_0x136f28(0x133)](path[_0x136f28(0x118)](FILE_PATH,_0x136f28(0x128)),ARGO_AUTH);const _0x4ca5c6='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x136f28(0x10e)]('\x22')[0xb]+_0x136f28(0xf2)+path[_0x136f28(0x118)](FILE_PATH,_0x136f28(0x128))+_0x136f28(0xcc)+ARGO_DOMAIN+_0x136f28(0xe1)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x136f28(0x118)](FILE_PATH,_0x136f28(0x14b)),_0x4ca5c6);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x59eeea=_0x345bdb;let _0x1537cf;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1537cf=ARGO_DOMAIN,console[_0x59eeea(0x10d)](_0x59eeea(0xea),_0x1537cf),await _0x53e103(_0x1537cf);else try{const _0xe9f292=fs[_0x59eeea(0x182)](path[_0x59eeea(0x118)](FILE_PATH,_0x59eeea(0xf6)),_0x59eeea(0x111)),_0xee2f33=_0xe9f292[_0x59eeea(0x10e)]('\x0a'),_0x2a0502=[];_0xee2f33['forEach'](_0x5a7cb7=>{const _0x58c2ea=_0x59eeea,_0x169fac=_0x5a7cb7[_0x58c2ea(0x162)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x169fac){const _0x1b0a0f=_0x169fac[0x1];_0x2a0502[_0x58c2ea(0x166)](_0x1b0a0f);}});if(_0x2a0502[_0x59eeea(0x129)]>0x0)_0x1537cf=_0x2a0502[0x0],console[_0x59eeea(0x10d)]('ArgoDomain:',_0x1537cf),await _0x53e103(_0x1537cf);else{console['log'](_0x59eeea(0x13e)),fs[_0x59eeea(0xc9)](path['join'](FILE_PATH,_0x59eeea(0xf6)));async function _0x2d0d64(){const _0x12a9bc=_0x59eeea;try{process[_0x12a9bc(0x167)]===_0x12a9bc(0xd4)?await exec(_0x12a9bc(0x12e)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x12a9bc(0xcd)+botName['charAt'](0x0)+']'+botName[_0x12a9bc(0x119)](0x1)+_0x12a9bc(0xd3));}catch(_0x144c37){}}_0x2d0d64(),await new Promise(_0x46492f=>setTimeout(_0x46492f,0xbb8));const _0x252428=_0x59eeea(0xd2)+FILE_PATH+_0x59eeea(0x15e)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x252428+_0x59eeea(0xdf)),console[_0x59eeea(0x10d)](botName+_0x59eeea(0x189)),await new Promise(_0xa94b4f=>setTimeout(_0xa94b4f,0xbb8)),await extractDomains();}catch(_0xac4b6c){console[_0x59eeea(0x100)](_0x59eeea(0xe5)+_0xac4b6c);}}}catch(_0x39ac12){console[_0x59eeea(0x100)]('Error\x20reading\x20boot.log:',_0x39ac12);}async function _0x53e103(_0x22ad49){const _0x2b644b=_0x59eeea,_0x5a9285=execSync(_0x2b644b(0x101),{'encoding':'utf-8'}),_0x1492c7=_0x5a9285[_0x2b644b(0x156)](),_0x31730b=NAME?NAME+'-'+_0x1492c7:_0x1492c7;return new Promise(_0x5ba403=>{setTimeout(()=>{const _0x5d8904=_0x3d01,_0x13875f={'v':'2','ps':''+_0x31730b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5d8904(0x110),'net':'ws','type':_0x5d8904(0x110),'host':_0x22ad49,'path':'/vmess-argo?ed=2560','tls':_0x5d8904(0x15b),'sni':_0x22ad49,'alpn':'','fp':_0x5d8904(0xca)},_0x37cde5=_0x5d8904(0x141)+UUID+'@'+CFIP+':'+CFPORT+_0x5d8904(0x176)+_0x22ad49+_0x5d8904(0x134)+_0x22ad49+_0x5d8904(0x122)+_0x31730b+_0x5d8904(0xe2)+Buffer[_0x5d8904(0x16a)](JSON[_0x5d8904(0x163)](_0x13875f))[_0x5d8904(0x102)]('base64')+_0x5d8904(0x168)+UUID+'@'+CFIP+':'+CFPORT+_0x5d8904(0x157)+_0x22ad49+_0x5d8904(0x134)+_0x22ad49+_0x5d8904(0xfb)+_0x31730b+_0x5d8904(0xf7);console[_0x5d8904(0x10d)](Buffer[_0x5d8904(0x16a)](_0x37cde5)[_0x5d8904(0x102)](_0x5d8904(0x108))),fs[_0x5d8904(0x133)](subPath,Buffer['from'](_0x37cde5)[_0x5d8904(0x102)](_0x5d8904(0x108))),console[_0x5d8904(0x10d)](FILE_PATH+_0x5d8904(0x107)),uploadNodes(),app[_0x5d8904(0x14e)]('/'+SUB_PATH,(_0x3af407,_0x410cbc)=>{const _0x4a95da=_0x5d8904,_0x483138=Buffer['from'](_0x37cde5)['toString'](_0x4a95da(0x108));_0x410cbc['set'](_0x4a95da(0xe7),_0x4a95da(0x16e)),_0x410cbc['send'](_0x483138);}),_0x5ba403(_0x37cde5);},0x7d0);});}}async function uploadNodes(){const _0x5dca88=_0x345bdb;if(UPLOAD_URL&&PROJECT_URL){const _0x4ad313=PROJECT_URL+'/'+SUB_PATH,_0x5e37ff={'subscription':[_0x4ad313]};try{const _0xbfb0cf=await axios[_0x5dca88(0xd6)](UPLOAD_URL+_0x5dca88(0x11b),_0x5e37ff,{'headers':{'Content-Type':'application/json'}});return _0xbfb0cf&&_0xbfb0cf[_0x5dca88(0x149)]===0xc8?(console[_0x5dca88(0x10d)]('Subscription\x20uploaded\x20successfully'),_0xbfb0cf):null;}catch(_0x22428a){if(_0x22428a[_0x5dca88(0x16f)]){if(_0x22428a[_0x5dca88(0x16f)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x63b188=fs['readFileSync'](listPath,_0x5dca88(0x111)),_0x1f8ff7=_0x63b188[_0x5dca88(0x10e)]('\x0a')[_0x5dca88(0xeb)](_0x4323=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5dca88(0xf5)](_0x4323));if(_0x1f8ff7[_0x5dca88(0x129)]===0x0)return;const _0x204624=JSON[_0x5dca88(0x163)]({'nodes':_0x1f8ff7});try{const _0x59ca9a=await axios[_0x5dca88(0xd6)](UPLOAD_URL+_0x5dca88(0x120),_0x204624,{'headers':{'Content-Type':'application/json'}});return _0x59ca9a&&_0x59ca9a[_0x5dca88(0x149)]===0xc8?(console[_0x5dca88(0x10d)]('Nodes\x20uploaded\x20successfully'),_0x59ca9a):null;}catch(_0x505603){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5e2ef7=_0x3d01,_0xbd377e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xbd377e['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xbd377e['push'](phpPath);process['platform']==='win32'?exec(_0x5e2ef7(0xe8)+_0xbd377e[_0x5e2ef7(0x118)]('\x20')+'\x20>\x20nul\x202>&1',_0x55bf25=>{const _0x3edb4b=_0x5e2ef7;console[_0x3edb4b(0x145)](),console[_0x3edb4b(0x10d)](_0x3edb4b(0x153)),console[_0x3edb4b(0x10d)](_0x3edb4b(0x114));}):exec('rm\x20-rf\x20'+_0xbd377e[_0x5e2ef7(0x118)]('\x20')+_0x5e2ef7(0x12c),_0x338569=>{const _0x50dc6b=_0x5e2ef7;console[_0x50dc6b(0x145)](),console['log'](_0x50dc6b(0x153)),console[_0x50dc6b(0x10d)](_0x50dc6b(0x114));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4017af=_0x345bdb;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4017af(0x10d)](_0x4017af(0x117));return;}try{const _0x2466fb=await axios[_0x4017af(0xd6)](_0x4017af(0x10b),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4017af(0x178)}});return console[_0x4017af(0x10d)](_0x4017af(0xcf)),_0x2466fb;}catch(_0x58a267){return console[_0x4017af(0x100)](_0x4017af(0x113)+_0x58a267[_0x4017af(0x14a)]),null;}}function _0x3d01(_0x20543a,_0x32ea94){const _0x2176db=_0x2176();return _0x3d01=function(_0x3d0169,_0x936996){_0x3d0169=_0x3d0169-0xc9;let _0x150843=_0x2176db[_0x3d0169];return _0x150843;},_0x3d01(_0x20543a,_0x32ea94);}async function startserver(){const _0x49a94c=_0x345bdb;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x231a29){console[_0x49a94c(0x100)](_0x49a94c(0x155),_0x231a29);}}startserver()['catch'](_0x28e309=>{const _0xfc1a63=_0x345bdb;console['error'](_0xfc1a63(0x138),_0x28e309);}),app[_0x345bdb(0x172)](PORT,()=>console[_0x345bdb(0x10d)](_0x345bdb(0x12d)+PORT+'!'));
